<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S.R ENTERPRISES | MASTER ERP</title>
    <style>
        :root { --bg: #0b1120; --card: #1e293b; --gold: #fbbf24; --green: #22c55e; --blue: #3b82f6; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; margin: 0; padding: 0; }

        /* Shop Grid */
        .product-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 10px; }
        .p-card { background: var(--card); border-radius: 12px; padding: 12px; border: 1px solid #334155; text-align: center; }
        .p-icon { font-size: 30px; margin-bottom: 5px; }
        .p-name { font-size: 11px; font-weight: bold; margin-bottom: 2px; height: 30px; }
        .p-desc { font-size: 9px; color: #94a3b8; margin-bottom: 5px; height: 25px; overflow: hidden; }
        .buy-btn { background: var(--gold); color: black; border: none; width: 100%; padding: 8px; border-radius: 6px; font-weight: bold; cursor: pointer; font-size: 11px; }

        /* Form Design */
        .section { display: none; padding: 15px; }
        .active { display: block; }
        .form-box { background: white; color: black; padding: 20px; border-radius: 15px; max-width: 800px; margin: auto; }
        .form-row { display: flex; align-items: center; margin-bottom: 10px; gap: 10px; }
        .form-row label { flex: 1; font-weight: bold; font-size: 11px; color: #333; text-transform: uppercase; }
        .form-row input, select { flex: 2; padding: 10px; border: 1px solid #ccc; border-radius: 8px; font-weight: bold; }

        /* Bill Table */
        .bill-table { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 12px; }
        .bill-table th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        .bill-table input { width: 100%; border: none; font-weight: bold; }
        .add-btn { background: var(--blue); color: white; border: none; padding: 10px; border-radius: 6px; width: 100%; font-weight: bold; margin-top: 10px; cursor: pointer; }

        /* Floating Icons */
        .float-box { position: fixed; bottom: 20px; right: 20px; display: flex; flex-direction: column; gap: 10px; z-index: 9999; }
        .f-btn { width: 50px; height: 50px; border-radius: 50%; border: none; color: white; display: flex; align-items: center; justify-content: center; font-size: 24px; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }

        /* PRINT SETTINGS (Fix for Single Page) */
        @media print {
            .no-print, .float-box, .buy-btn, .add-btn, header { display: none !important; }
            body { background: white !important; color: black !important; padding: 0; margin: 0; }
            .section { display: block !important; padding: 0 !important; width: 100% !important; }
            .form-box { box-shadow: none !important; border: none !important; width: 100% !important; padding: 5px !important; }
            #print-footer { display: flex !important; justify-content: space-between; margin-top: 20px; border-top: 1px solid #000; padding: 10px; page-break-inside: avoid; }
            .bill-table { width: 100% !important; margin-bottom: 10px; }
            input { border: none !important; background: transparent !important; color: black !important; }
        }
    </style>
</head>
<body>

<div id="shopPage" class="active no-print">
    <div style="background:#131921; padding:15px; text-align:center; border-bottom: 3px solid var(--gold);" onclick="adminLogin()">
        <h1 style="color:var(--gold); margin:0;">S.R ENTERPRISES</h1>
        <p style="font-size:10px; color:#ccc;">AMAZON STYLE MARKETPLACE ‚Ä¢ ADMIN LOGIN</p>
    </div>
    <div class="product-grid" id="mainStore"></div>
</div>

<div id="adminPanel" class="section no-print">
    <h2 style="color:var(--gold); text-align:center;">SR ADMIN DASHBOARD</h2>
    <div class="product-grid">
        <button class="buy-btn" onclick="showSection('billPage')">üìù NEW BILLING</button>
        <button class="buy-btn" style="background:var(--blue);" onclick="showSection('dealerPage')">ü§ù SHASHI DEALER</button>
        <button class="buy-btn" style="background:var(--red);" onclick="location.reload()">üîí LOGOUT</button>
    </div>
</div>

<div id="billPage" class="section">
    <div class="form-box">
        <div style="display:flex; justify-content:space-between; font-weight:bold; border-bottom:1px solid #ddd; padding-bottom:5px; margin-bottom:10px;">
            <span>INV: <input type="text" id="invNo" readonly style="width:60px;"></span>
            <span>DATE: <input type="date" id="invDate"></span>
        </div>
        <div class="form-row"><label>NAME:</label><input type="text" id="bName"></div>
        <div class="form-row"><label>ADDRESS:</label><input type="text" id="bAddr"></div>
        <div class="form-row"><label>MOBILE:</label><input type="text" id="bMob" style="width:70%;"> <button onclick="pickContact()" class="no-print" style="background:var(--gold); border:none; padding:8px; border-radius:5px;">üë§</button></div>
        
        <table class="bill-table">
            <thead style="background:#f4f4f4;">
                <tr><th>DESCRIPTION</th><th>RATE</th><th>QTY</th><th>TOTAL</th></tr>
            </thead>
            <tbody id="billBody">
                <tr>
                    <td><input type="text" class="item-desc" placeholder="Service / Spare Part"></td>
                    <td><input type="number" class="item-rate" value="0" oninput="calcTotal()"></td>
                    <td><input type="number" class="item-qty" value="1" oninput="calcTotal()"></td>
                    <td class="item-tot">‚Çπ 0</td>
                </tr>
            </tbody>
        </table>
        <button class="add-btn no-print" onclick="addRow()">+ ADD ITEM / WORK</button>

        <div style="margin-top:15px; text-align:right; font-weight:bold;">
            <div class="form-row" style="justify-content:flex-end;"><label style="flex:none;">GST 18%:</label><input type="checkbox" id="gstCheck" style="width:20px;" onchange="calcTotal()"></div>
            <div class="form-row" style="justify-content:flex-end;"><label style="flex:none;">DISCOUNT:</label><input type="number" id="disc" value="0" style="width:100px;" oninput="calcTotal()"></div>
            <h2 style="color:var(--blue);">GRAND TOTAL: ‚Çπ <span id="finalAmt">0</span></h2>
            
