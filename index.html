<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S.R ENTERPRISES | MASTER ERP</title>
    <style>
        :root { --bg: #0b1120; --card: #1e293b; --gold: #fbbf24; --green: #22c55e; --blue: #3b82f6; --red: #ef4444; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; margin: 0; padding: 0; overflow-x: hidden; }
        
        .section { display: none; padding: 15px; padding-bottom: 100px; }
        .active { display: block; }

        /* Dashboard Buttons */
        .admin-btn { height: 75px !important; font-size: 16px !important; letter-spacing: 1px; text-transform: uppercase; font-weight: bold; width: 100%; margin-bottom: 10px; cursor: pointer; border-radius: 8px; border: none; color: white; }

        /* Shop Styling */
        .shop-header { background: #131921; padding: 15px; text-align: center; border-bottom: 3px solid var(--gold); cursor:pointer; }
        .product-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 10px; }
        .p-card { background: var(--card); border-radius: 12px; padding: 10px; border: 1px solid #334155; text-align: center; display: flex; flex-direction: column; justify-content: space-between; min-height: 200px; }
        .p-icon { font-size: 28px; }
        .p-name { font-size: 11px; font-weight: bold; height: 35px; overflow: hidden; margin: 5px 0; }
        .buy-btn { background: var(--gold); color: black; border: none; width: 100%; padding: 10px; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 11px; }

        /* Form Design */
        .form-box { background: white; color: black; padding: 20px; border-radius: 12px; max-width: 800px; margin: auto; }
        .form-row { display: flex; align-items: center; margin-bottom: 10px; gap: 8px; }
        .form-row label { flex: 1; font-weight: bold; font-size: 11px; color: #333; text-transform: uppercase; }
        .form-row input, .form-row select, .form-row textarea { flex: 2; padding: 12px; border: 1px solid #ccc; border-radius: 6px; font-weight: bold; box-sizing: border-box; font-size: 14px; }
        
        /* Calc Section Right Align */
        .calc-container { width: 100%; display: flex; flex-direction: column; align-items: flex-end; margin-top: 15px; gap: 10px; }
        .calc-item { display: flex; align-items: center; gap: 10px; justify-content: flex-end; width: 300px; }
        .calc-item label { font-weight: bold; font-size: 13px; color: #333; flex: 1; text-align: right; }
        .calc-item input { width: 120px; padding: 8px; font-weight: bold; font-size: 16px; border: 1px solid #ccc; border-radius: 5px; }
        #gstCheck { width: 25px; height: 25px; }

        /* FIXED BILL TABLE */
        .excel-table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 10px; background: white; color: black; border: 1px solid #ddd; table-layout: fixed; }
        .excel-table th, .excel-table td { border: 1px solid #ddd; padding: 5px; text-align: left; overflow: hidden; }
        .excel-table th { background: #334155; color: white; }
        .excel-table input { width: 100%; border: none; font-size: 11px; padding: 2px; box-sizing: border-box; font-weight: bold; background: #f9f9f9; }
        .col-desc { width: 45%; } .col-rate { width: 20%; } .col-qty { width: 15%; } .col-tot { width: 20%; }

        /* Print Navigation */
        .back-nav-bottom { position: fixed; bottom: 0; left: 0; width: 100%; background: #131921; padding: 18px; text-align: center; border-top: 2px solid var(--gold); cursor: pointer; color: var(--gold); font-weight: bold; z-index: 1000; font-size: 14px; }
        .float-box { position: fixed; bottom: 85px; right: 20px; display: flex; flex-direction: column; gap: 10px; z-index: 1000; }
        .f-btn { width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 25px; color: white; border:none; box-shadow: 0 4px 10px rgba(0,0,0,0.3); text-decoration: none; cursor:pointer; }

        @media print {
            @page { size: A4; margin: 5mm; }
            html, body { background: white !important; color: black !important; overflow: visible !important; height: auto !important; }
            body > *:not(.active) { display: none !important; }
            .no-print, .float-box, .back-nav-bottom, button, .shop-header, .admin-btn { display: none !important; }
            .section.active { display: block !important; position: static !important; width: 100% !important; padding: 0 !important; margin: 0 !important; }
            .form-box { box-shadow: none !important; border: none !important; width: 100% !important; padding: 0 !important; }
            h2 { font-size: 24px !important; color: black !important; text-align: center !important; text-decoration: underline; margin-bottom: 20px !important; }
            .calc-container { margin-top: 10px !important; }
            .excel-table { width: 100% !important; border: 2.5px solid #000 !important; }
            #printFooter { display: flex !important; justify-content: space-between; align-items: flex-start; margin-top: 40px; border-top: 2px solid #000; padding-top: 20px; visibility: visible !important; }
            .bank-info { width: 65%; text-align: left !important; font-size: 14px !important; }
        }
        #printFooter { display: none; }
    </style>
</head>
<body>

<div id="shopPage" class="section active no-print">
    <div class="shop-header" onclick="adminLogin()">
        <h1 style="color:var(--gold); margin:0;">S.R ENTERPRISES</h1>
        <p style="font-size:10px; color:#ccc;">AMAZON STYLE MARKET ‚Ä¢ ADMIN LOGIN</p>
    </div>
    <div class="product-grid" id="catalog"></div>
</div>

<div id="adminPanel" class="section no-print">
    <h2 style="color:var(--gold); text-align:center;">SR ADMIN DASHBOARD</h2>
    <div style="padding: 10px;">
        <button class="buy-btn admin-btn" style="background:var(--blue);" onclick="goTo('billPage')">üìù NEW BILLING</button>
        <button class="buy-btn admin-btn" style="background:var(--green);" onclick="goTo('dealerPage')">ü§ù SHASHI DEALER</button>
        <button class="buy-btn admin-btn" style="background:#a855f7;" onclick="goTo('crmPage')">üìä CUSTOMER LOGS</button>
    </div>
    <div class="back-nav-bottom" onclick="location.reload()">üîí LOGOUT / HOME</div>
</div>

<div id="billPage" class="section">
    <div class="form-box">
        <h2 style="text-align:center; color:var(--blue); margin:0;">S.R ENTERPRISES</h2>
        <div style="display:flex; justify-content:space-between; font-weight:bold; font-size:12px; margin-bottom:15px; border-bottom: 1.5px solid #000;">
            <span>INV NO: <input type="text" id="invNo" style="width:70px;" value="SR-101"></span>
            <span>DATE: <input type="date" id="invDate"></span>
        </div>
        <div class="form-row"><label>CUSTOMER:</label><input type="text" id="bName"></div>
        <div class="form-row"><label>ADDRESS:</label><input type="text" id="bAddr"></div>
        <div class="form-row"><label>MOBILE:</label><div style="flex:2; display:flex; gap:5px;"><input type="text" id="bMob" style="flex:1;"><button onclick="pickContact()" class="no-print">üë§</button></div></div>
        
        <table class="excel-table" id="billTable">
            <thead><tr style="background:#eee;"><th class="col-desc">DESCRIPTION</th><th class="col-rate">RATE</th><th class="col-qty">QTY</th><th class="col-tot">TOTAL</th></tr></thead>
            <tbody id="billBody">
                <tr>
                    <td class="col-desc"><input type="text" class="i-desc" placeholder="Work/Part"></td>
                    <td class="col-rate"><input type="number" class="i-rate" value="0" oninput="calcBill()"></td>
                    <td class="col-qty"><input type="number" class="i-qty" value="1" oninput="calcBill()"></td>
                    <td class="col-tot">‚Çπ 0</td>
                </tr>
            </tbody>
        </table>
        <button class="buy-btn no-print" style="background:var(--blue); color:white; margin-top:10px;" onclick="addRow()">+ ADD ITEM</button>

        <div class="calc-container">
            <div class="calc-item">
                <label>GST 18%:</label>
                <input type="checkbox" id="gstCheck" onchange="calcBill()">
            </div>
            <div class="calc-item">
                <label>DISCOUNT (‚Çπ):</label>
                <input type="number" id="disc" value="0" oninput="calcBill()">
            </div>
            <div class="calc-item">
                <label style="color:var(--blue); font-size: 18px;">GRAND TOTAL:</label>
                <div style="font-size: 22px; font-weight: bold; border-bottom: 2px solid #333; padding: 0 10px;">‚Çπ <span id="gTotal">0</span></div>
            </div>
        </div>
        
        <p id="wordTotal" style="font-weight: bold; font-size: 13px; text-align: right; margin-top: 5px; color: #000;"></p>
        
        <div class="no-print" style="margin-top:10px; display:flex; gap:10px;">
            <button class="buy-btn" style="background:var(--green); color:white; padding:15px;" onclick="alert('Record Saved!')">SAVE & WHATSAPP</button>
            <button class="buy-btn" style="background:#eee; color:black;" onclick="window.print()">üñ®Ô∏è PRINT BILL</button>
        </div>

        <div id="printFooter">
            <div class="bank-info">
                <div style="display: flex; gap: 15px; align-items: flex-start;">
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=upi://pay?pa=7021733860@sbi&pn=HariRam" style="width:115px; border:2px solid #000;">
                    <div>
                        <p style="margin:2px 0;"><b>BENEFICIARY: HARIRAM SITARAM RAJBHAR</b></p>
                        <p style="margin:2px 0;">BANK: STATE BANK OF INDIA (A/C: ....9584)</p>
                        <p style="margin:2px 0;">IFSC: SBIN0000000 | UPI ID: 7021733860@sbi</p>
                        <div style="margin-top:5px;">
                           <img src="https://img.icons8.com/color/48/000000/google-pay.png" width="25">
                           <img src="https://img.icons8.com/color/48/000000/phone-pe.png" width="25">
                           <img src="https://img.icons8.com/color/48/000000/paytm.png" width="25">
                        </div>
                    </div>
                </div>
            </div>
            <div style="text-align:right;">
                <p style="margin-top:50px; font-weight:bold;">____________________<br>Authorised Signature</p>
            </div>
        </div>
    </div>
    <div class="back-nav-bottom no-print" onclick="goTo('adminPanel')">‚¨ÖÔ∏è BACK TO ADMIN</div>
</div>

<div id="crmPage" class="section">
    <div class="form-box" style="max-width: 1000px;">
        <h3>üìä CUSTOMER ADDRESS & LOGS</h3>
        <div style="background:#f1f5f9; padding:15px; border-radius:10px; margin-bottom:15px; border: 1px solid #ddd;" class="no-print">
            <div class="form-row"><input type="text" id="cn" placeholder="Name"> <input type="number" id="cm" placeholder="Mobile"></div>
            <div class="form-row"><input type="text" id="ca" placeholder="Address"> <input type="text" id="cw" placeholder="Machine"></div>
            <button class="buy-btn" style="background:var(--green); color:white; padding: 12px;" onclick="addCRMRecord()">+ SAVE RECORD</button>
        </div>
        <input type="text" id="crmSearch" placeholder="üîç Search records..." onkeyup="searchTable('crmBody', this.value)" style="width:100%; padding:15px; margin-bottom:10px; border-radius:8px; border:1px solid #ccc;">
        <table class="excel-table"><thead><tr><th>NAME</th><th>MOBILE</th><th>ADDRESS</th><th>STATUS</th></tr></thead><tbody id="crmBody"></tbody></table>
    </div>
    <div class="back-nav-bottom no-print" onclick="goTo('adminPanel')">‚¨ÖÔ∏è BACK TO ADMIN</div>
</div>

<div id="dealerPage" class="section">
    <div class="form-box">
        <h3>ü§ù DEALER LOGS</h3>
        <table class="excel-table"><thead><tr><th>DATE</th><th>CAT</th><th>ADDR</th><th>AMT</th></tr></thead><tbody id="dealerBody"></tbody></table>
    </div>
    <div class="back-nav-bottom no-print" onclick="goTo('adminPanel')">‚¨ÖÔ∏è BACK TO ADMIN</div>
</div>

<div class="float-box no-print">
    <a href="https://wa.me/917021733860" class="f-btn" style="background:#25d366;">üí¨</a>
    <a href="tel:917021733860" class="f-btn" style="background:var(--blue);">üìû</a>
</div>

<script>
    // 22+ Products List
    const products = [
        {n:"SRE-250 Mini Fusing", p:48000, i:"üè≠", d:"Small Units"}, {n:"SRE-300 Collar Press", p:58000, i:"üëï", d:"Pasting"},
        {n:"Hashima HP-450MS", p:215000, i:"ü§ñ", d:"Industrial"}, {n:"Oshima OP-450GS", p:185000, i:"üè≠", d:"Industrial"},
        {n:"HP-450MS Belt Set", p:14000, i:"‚û∞", d:"Premium"}, {n:"Linix Motor 80JB", p:14950, i:"üîå", d:"Main Motor"},
        {n:"Silicon Spray", p:2250, i:"üß¥", d:"Cleaner"}, {n:"Machine Service", p:1500, i:"üõ†Ô∏è", d:"Service"}
    ];

    window.onload = () => {
        let h = ''; products.forEach(p => { 
            h += `<div class="p-card"><div class="p-icon">${p.i}</div><div class="p-name">${p.n}</div><div style="color:var(--gold);font-weight:bold;">‚Çπ${p.p.toLocaleString()}</div><button class="buy-btn">BUY NOW</button></div>`; 
        });
        document.getElementById('catalog').innerHTML = h;
        document.getElementById('invDate').valueAsDate = new Date();
    };

    function numberToWords(num) {
        if (num === 0) return "Zero Rupees Only";
        const a = ['', 'One ', 'Two ', 'Three ', 'Four ', 'Five ', 'Six ', 'Seven ', 'Eight ', 'Nine ', 'Ten ', 'Eleven ', 'Twelve ', 'Thirteen ', 'Fourteen ', 'Fifteen ', 'Sixteen ', 'Seventeen ', 'Eighteen ', 'Nineteen '];
        const b = ['', '', 'Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety'];
        let words = '';
        if (num >= 1000) { words += a[Math.floor(num / 1000)] + 'Thousand '; num %= 1000; }
        if (num >= 100) { words += a[Math.floor(num / 100)] + 'Hundred '; num %= 100; }
        if (num > 19) { words += b[Math.floor(num / 10)] + ' ' + a[num % 10]; }
        else { words += a[num]; }
        return words + "Rupees Only";
    }

    function goTo(id) { document.querySelectorAll('.section').forEach(s => s.classList.remove('active')); document.getElementById(id).classList.add('active'); window.scrollTo(0,0); }
    function addRow() { const tr = document.createElement('tr'); tr.innerHTML = `<td class="col-desc"><input type="text" class="i-desc"></td><td class="col-rate"><input type="number" class="i-rate" value="0" oninput="calcBill()"></td><td class="col-qty"><input type="number" class="i-qty" value="1" oninput="calcBill()"></td><td class="col-tot">‚Çπ 0</td>`; document.getElementById('billBody').appendChild(tr); }
    
    function calcBill() { 
        let sub = 0; document.querySelectorAll('#billBody tr').forEach(r => { 
            let rt = parseFloat(r.querySelector('.i-rate').value)||0; let qt = parseFloat(r.querySelector('.i-qty').value)||0; 
            let rowTot = rt*qt; r.querySelector('td:last-child').innerText = "‚Çπ " + rowTot; sub += rowTot; 
        }); 
        let d = parseFloat(document.getElementById('disc').value)||0; let f = sub - d; 
        if(document.getElementById('gstCheck').checked) f *= 1.18; 
        let final = Math.round(f); document.getElementById('gTotal').innerText = final.toLocaleString(); 
        document.getElementById('wordTotal').innerText = "Amount in words: " + numberToWords(final);
    }

    function addCRMRecord() { const row = `<tr><td>${document.getElementById('cn').value}</td><td>${document.getElementById('cm').value}</td><td>${document.getElementById('ca').value}</td><td style="color:green;">ACTIVE</td></tr>`; document.getElementById('crmBody').innerHTML += row; alert("Saved!"); }
    function searchTable(id, val) { let rows = document.querySelectorAll(`#${id} tr`); rows.forEach(r => r.style.display = r.innerText.toLowerCase().includes(val.toLowerCase()) ? '' : 'none'); }
    function adminLogin() { if(prompt("Password:") === "1234") goTo('adminPanel'); }
    async function pickContact() { try { const c = await navigator.contacts.select(['name', 'tel'], {multiple: false}); if(c.length) { document.getElementById('bName').value = c[0].name[0]; document.getElementById('bMob').value = c[0].tel[0].replace(/\D/g,'').slice(-10); } } catch (e) { alert("Use Chrome Mobile."); } }
</script>
</body>
            </html>
    
